from django.shortcuts import render, redirect
import requests
import json
from django.http import HttpResponse


def login_index(request):
    if request.method == "POST":
        return redirect("/table")
    else:
        return render(request, 'login.html')


def redirect_login(request):
    data_login = requests.get('http://185.27.194.131/security/app/employee/').text
    data_login = json.loads(data_login)
    login = request.GET.get('login')
    password = request.GET.get('password')
    for item in data_login:
        if login == item["employee_login"] and password == item["employee_password"]:
            return redirect('table')
        else:
            return HttpResponse("Неверный логин или пароль.")


def index(request):
    data_login = requests.get('http://185.27.194.131/security/app/employee/').text
    data_login = json.loads(data_login)
    num = range(1, len(data_login)+1)
    import random
    import control.filler as fil
    data_login = [{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])}, {'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])},{'employee_f': random.choice(fil.surnames), 'employee_i': random.choice(fil.names), 'employee_o': random.choice(fil.patronimics), 'employee_phone_number': '8912' + str(random.randint(1111111, 9999999)), 'rej': random.choice(['Утро', "День", "Вечер", "Ночь"])}]
    num = range(1, len(data_login)+1)
    return render(request, 'index.html', {'data': zip(num, data_login)})
